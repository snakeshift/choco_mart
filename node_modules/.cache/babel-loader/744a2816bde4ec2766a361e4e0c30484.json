{"remainingRequest":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/babel-loader/lib/index.js!/Users/yokoyamakenta/Desktop/choco_mart/node_modules/eslint-loader/index.js??ref--13-0!/Users/yokoyamakenta/Desktop/choco_mart/src/mixins/api.js","dependencies":[{"path":"/Users/yokoyamakenta/Desktop/choco_mart/src/mixins/api.js","mtime":1599521196382},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/cache-loader/dist/cjs.js","mtime":1599521191920},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/babel-loader/lib/index.js","mtime":1599521191611},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/eslint-loader/index.js","mtime":1599521192603}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL3lva295YW1ha2VudGEvRGVza3RvcC9jaG9jb19tYXJ0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy95b2tveWFtYWtlbnRhL0Rlc2t0b3AvY2hvY29fbWFydC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBHZXR0ZXJzLCBtYXBNdXRhdGlvbnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG1ldGhvZHM6IHsKICAgIEdldFVzZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9HZXRVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdXNlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXI7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHVzZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdXNlcik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBHZXRVc2VyKCkgewogICAgICAgIHJldHVybiBfR2V0VXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gR2V0VXNlcjsKICAgIH0oKSwKICAgIEdldFVzZXJCeUlkOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfR2V0VXNlckJ5SWQgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMih1c2VySWQpIHsKICAgICAgICB2YXIgdXNlclJlZiwgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdXNlclJlZiA9IGZpcmViYXNlLmZpcmVzdG9yZSgpLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKHVzZXJJZCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlclJlZi5nZXQoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgICAgICAgICAgZGF0YSA9IGRvYy5kYXRhKCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBHZXRVc2VyQnlJZChfeCkgewogICAgICAgIHJldHVybiBfR2V0VXNlckJ5SWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIEdldFVzZXJCeUlkOwogICAgfSgpLAogICAgR2V0VXNlcnNOYW1lOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfR2V0VXNlcnNOYW1lID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHVzZXJzUmVmLCB1c2Vyc05hbWU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHVzZXJzUmVmID0gZmlyZWJhc2UuZmlyZXN0b3JlKCkuY29sbGVjdGlvbigidXNlcnMiKTsKICAgICAgICAgICAgICAgIHVzZXJzTmFtZSA9IFtdOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJzUmVmLmdldCgpLnRoZW4oZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7CgogICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGRvYy5kb2NzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VyRGF0YSA9IHVzZXIuZGF0YSgpOwogICAgICAgICAgICAgICAgICAgICAgdXNlcnNOYW1lLnB1c2godXNlckRhdGEubmFtZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7CiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHVzZXJzTmFtZSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIEdldFVzZXJzTmFtZSgpIHsKICAgICAgICByZXR1cm4gX0dldFVzZXJzTmFtZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gR2V0VXNlcnNOYW1lOwogICAgfSgpLAogICAgU2V0VXNlck5hbWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9TZXRVc2VyTmFtZSA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHVzZXJfbmFtZSkgewogICAgICAgIHZhciB1c2VyLCB1c2VyUmVmLCBuYW1lczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlcjsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgdXNlciA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgdXNlclJlZiA9IGZpcmViYXNlLmZpcmVzdG9yZSgpLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKHVzZXIudWlkKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkdldFVzZXJzTmFtZSgpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBuYW1lcyA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKG5hbWVzLmluZGV4T2YodXNlcl9uYW1lKSA+PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgaWYgKHVzZXIpIHsKICAgICAgICAgICAgICAgICAgdXNlci51cGRhdGVQcm9maWxlKHsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogdXNlcl9uYW1lCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB1c2VyUmVmLnVwZGF0ZSh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlcl9uYW1lCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCB0cnVlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIFNldFVzZXJOYW1lKF94MikgewogICAgICAgIHJldHVybiBfU2V0VXNlck5hbWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIFNldFVzZXJOYW1lOwogICAgfSgpLAogICAgUmVmcmVzaFVzZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9SZWZyZXNoVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciB1c2VyRGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlLmF1dGgoKS5zaWduSW5Bbm9ueW1vdXNseSgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICB1c2VyRGF0YSA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgc3RvcmUuY29tbWl0KCdhdXRoL29uQXV0aFN0YXRlQ2hhbmdlZCcsIHVzZXJEYXRhLnVzZXIpOwogICAgICAgICAgICAgICAgc3RvcmUuY29tbWl0KCdhdXRoL29uVXNlclN0YXR1c0NoYW5nZWQnLCB1c2VyRGF0YS51c2VyLnVpZCA/IHRydWUgOiBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIFJlZnJlc2hVc2VyKCkgewogICAgICAgIHJldHVybiBfUmVmcmVzaFVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIFJlZnJlc2hVc2VyOwogICAgfSgpLAogICAgUmVmcmVzaFNlbGxMaXN0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfUmVmcmVzaFNlbGxMaXN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHNlbGxSZWYsIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHNlbGxSZWYgPSBmaXJlYmFzZS5maXJlc3RvcmUoKS5jb2xsZWN0aW9uKCJzZWxscyIpLmRvYyh0aGlzLlVzZXIudWlkKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBzZWxsUmVmLmdldCgpLnRoZW4oZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgICBkYXRhID0gZG9jLmRhdGEoKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIFJlZnJlc2hTZWxsTGlzdCgpIHsKICAgICAgICByZXR1cm4gX1JlZnJlc2hTZWxsTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gUmVmcmVzaFNlbGxMaXN0OwogICAgfSgpLAogICAgUmVmcmVzaEJ1eUxpc3Q6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9SZWZyZXNoQnV5TGlzdCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciBidXlSZWYsIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGJ1eVJlZiA9IGZpcmViYXNlLmZpcmVzdG9yZSgpLmNvbGxlY3Rpb24oImJ1eXMiKS5kb2ModGhpcy5Vc2VyLnVpZCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYnV5UmVmLmdldCgpLnRoZW4oZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgICBkYXRhID0gZG9jLmRhdGEoKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIFJlZnJlc2hCdXlMaXN0KCkgewogICAgICAgIHJldHVybiBfUmVmcmVzaEJ1eUxpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIFJlZnJlc2hCdXlMaXN0OwogICAgfSgpLAogICAgUmVmcmVzaENvbW1lbnRMaXN0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfUmVmcmVzaENvbW1lbnRMaXN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoaXRlbUlkKSB7CiAgICAgICAgdmFyIGNvbW1lbnRSZWYsIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1lbnRSZWYgPSBmaXJlYmFzZS5maXJlc3RvcmUoKS5jb2xsZWN0aW9uKCJjb21tZW50cyIpLmRvYyhpdGVtSWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1lbnRSZWYuZ2V0KCkudGhlbihmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICAgICAgICAgIGRhdGEgPSBkb2MuZGF0YSgpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iLCBkYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gUmVmcmVzaENvbW1lbnRMaXN0KF94MykgewogICAgICAgIHJldHVybiBfUmVmcmVzaENvbW1lbnRMaXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBSZWZyZXNoQ29tbWVudExpc3Q7CiAgICB9KCkKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKHsKICAgIFVzZXI6ICdhdXRoL3VzZXInCiAgfSkpCn07"},{"version":3,"sources":["/Users/yokoyamakenta/Desktop/choco_mart/src/mixins/api.js"],"names":["firebase","store","mapState","mapGetters","mapMutations","mapActions","methods","GetUser","auth","currentUser","user","GetUserById","userId","userRef","firestore","collection","doc","get","then","data","GetUsersName","usersRef","usersName","docs","userData","push","name","SetUserName","user_name","uid","names","indexOf","updateProfile","displayName","update","RefreshUser","signInAnonymously","commit","RefreshSellList","sellRef","User","RefreshBuyList","buyRef","RefreshCommentList","itemId","commentRef","computed"],"mappings":"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","sourcesContent":["import firebase from 'firebase'\nimport store from \"@/store\"\nimport { mapState, mapGetters, mapMutations, mapActions } from 'vuex'\n\nexport default{\n  methods:{\n    async GetUser () {\n      let user = await firebase.auth().currentUser;\n      return user\n    },\n    async GetUserById (userId) {\n      let userRef = firebase.firestore().collection(\"users\").doc(userId)\n      let data\n      await userRef.get().then(function(doc) {\n        data = doc.data()\n      })\n      return data\n    },\n    async GetUsersName() {\n      let usersRef = firebase.firestore().collection(\"users\")\n      let usersName = []\n      await usersRef.get().then(function(doc){\n        for(let user of doc.docs){\n          let userData = user.data()\n          usersName.push(userData.name)\n        }\n      })\n      return usersName\n    },\n    async SetUserName (user_name) {\n      let user = await firebase.auth().currentUser;\n      let userRef = firebase.firestore().collection(\"users\").doc(user.uid)\n\n      const names = await this.GetUsersName()\n      if (names.indexOf(user_name) >= 0){\n        // 存在する\n        return false\n      }else{\n        if(user) {\n          user.updateProfile({\n            displayName: user_name\n          })\n          userRef.update({\n            name: user_name\n          })\n        }\n        return true\n      }\n    },\n    async RefreshUser () {\n      let userData = await firebase.auth().signInAnonymously()\n      store.commit('auth/onAuthStateChanged', userData.user);\n      store.commit('auth/onUserStatusChanged', userData.user.uid ? true : false);\n    },\n    async RefreshSellList () {\n      let sellRef = firebase.firestore().collection(\"sells\").doc(this.User.uid)\n      let data\n      await sellRef.get().then(function(doc) {\n        data = doc.data()\n      })\n      return data\n    },\n    async RefreshBuyList () {\n      let buyRef = firebase.firestore().collection(\"buys\").doc(this.User.uid)\n      let data\n      await buyRef.get().then(function(doc) {\n        data = doc.data()\n      })\n      return data\n    },\n    async RefreshCommentList (itemId) {\n      let commentRef = firebase.firestore().collection(\"comments\").doc(itemId)\n      let data\n      await commentRef.get().then(function(doc) {\n        data = doc.data()\n      })\n      return data\n    }\n  },\n  computed: {\n    ...mapGetters({\n      User: 'auth/user',\n    }),\n  },\n}"]}]}