{"remainingRequest":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/babel-loader/lib/index.js!/Users/yokoyamakenta/Desktop/choco_mart/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/yokoyamakenta/Desktop/choco_mart/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yokoyamakenta/Desktop/choco_mart/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yokoyamakenta/Desktop/choco_mart/src/components/comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yokoyamakenta/Desktop/choco_mart/src/components/comment.vue","mtime":1580607784712},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy95b2tveWFtYWtlbnRhL0Rlc2t0b3AvY2hvY29fbWFydC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMveW9rb3lhbWFrZW50YS9EZXNrdG9wL2Nob2NvX21hcnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEdldHRlcnMsIG1hcE11dGF0aW9ucywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwppbXBvcnQgZmlyZWJhc2VDb25maWcgZnJvbSAnQC9wbHVnaW5zL2ZpcmViYXNlJzsKaW1wb3J0ICdAL2Fzc2V0cy9zY3NzL2NoYXQuc2Nzcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbm90aWNlczogbnVsbCwKICAgICAga2luZDogImxpc3RzIiwKICAgICAgaXRlbUlkOiAiIiwKICAgICAgbmFtZTogIiIsCiAgICAgIHByaWNlOiAiIiwKICAgICAgdWlkOiAiIiwKICAgICAgdHlwZTogIiIsCiAgICAgIGdvb2Q6IDAsCiAgICAgIHJlcGx5OiBbXSwKICAgICAgY3JlYXRlZF9hdDogIiIsCiAgICAgIGNoYXQ6IHsKICAgICAgICB2YWx1ZTogIiIsCiAgICAgICAgaXNTaG93OiBmYWxzZSwKICAgICAgICBpc0NsaWNrZWQ6IGZhbHNlCiAgICAgIH0sCiAgICAgIG1lbWJlcnM6IHt9LAogICAgICBsaXN0ZW5lcjogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldEtpbmQ6IGZ1bmN0aW9uIHNldEtpbmQoa2luZCkgewogICAgICB0aGlzLmtpbmQgPSBraW5kOwogICAgfSwKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoaXRlbUlkKSB7CiAgICAgIHZhciB0ID0gdGhpczsKICAgICAgdC5saXN0ZW5lciA9IGZpcmViYXNlLmZpcmVzdG9yZSgpLmNvbGxlY3Rpb24oImNvbW1lbnRzIikuZG9jKGl0ZW1JZCkub25TbmFwc2hvdChmdW5jdGlvbiAocXVlcnlTbmFwc2hvdCkgewogICAgICAgIHQucmVmcmVzaChpdGVtSWQpOwogICAgICAgIHQucmVmcmVzaE5vdGljZSh0LnVzZXIudWlkKTsKICAgICAgfSk7CiAgICB9LAogICAgY2xvc2VMaXN0ZW5lcjogZnVuY3Rpb24gY2xvc2VMaXN0ZW5lcigpIHsKICAgICAgdGhpcy5saXN0ZW5lcigpOwogICAgfSwKICAgIHNlbmRHb29kOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfc2VuZEdvb2QgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBub3RpY2VSZWYsIG1zZ1JlZiwgbGlzdFJlZiwgbm93LCBtc2dEYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5vdGljZVJlZiA9IHRoaXMuZGIuY29sbGVjdGlvbigibm90aWNlcyIpLmRvYyh0aGlzLnVzZXIudWlkKTsKICAgICAgICAgICAgICAgIG1zZ1JlZiA9IHRoaXMuZGIuY29sbGVjdGlvbigiY29tbWVudHMiKS5kb2ModGhpcy5pdGVtSWQpOwogICAgICAgICAgICAgICAgbGlzdFJlZiA9IHRoaXMuZGIuY29sbGVjdGlvbigibGlzdHMiKS5kb2ModGhpcy5pdGVtSWQpOwogICAgICAgICAgICAgICAgbm93ID0gZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCk7CiAgICAgICAgICAgICAgICBtc2dEYXRhID0gewogICAgICAgICAgICAgICAgICB1cGRhdGVkX2F0OiBub3csCiAgICAgICAgICAgICAgICAgIGdvb2Q6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLmluY3JlbWVudCgxKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIG5vdGljZVJlZi51cGRhdGUoewogICAgICAgICAgICAgICAgICBpdGVtczogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuYXJyYXlVbmlvbihsaXN0UmVmKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIG1zZ1JlZi51cGRhdGUoX29iamVjdFNwcmVhZCh7fSwgbXNnRGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc2VuZEdvb2QoKSB7CiAgICAgICAgcmV0dXJuIF9zZW5kR29vZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gc2VuZEdvb2Q7CiAgICB9KCksCiAgICByZWZyZXNoTm90aWNlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmcmVzaE5vdGljZSA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBub3RpY2VSZWYsIG5vdGljZURhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmaXJlYmFzZS5maXJlc3RvcmUoKS5jb2xsZWN0aW9uKCJub3RpY2VzIikuZG9jKHRoaXMudXNlci51aWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBub3RpY2VSZWYgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBub3RpY2VSZWYuZ2V0KCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIG5vdGljZURhdGEgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMubm90aWNlcyA9IG5vdGljZURhdGEuZGF0YSgpOyAvLyBjb25zb2xlLmxvZyh0aGlzLm5vdGljZXMpCgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHJlZnJlc2hOb3RpY2UoKSB7CiAgICAgICAgcmV0dXJuIF9yZWZyZXNoTm90aWNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZWZyZXNoTm90aWNlOwogICAgfSgpLAogICAgcmVmcmVzaDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZnJlc2ggPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhpdGVtSWQpIHsKICAgICAgICB2YXIgdCwgY29tbWVudERhdGEsIGl0ZW1SZWYsIGl0ZW1EYXRhLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIGNvbnRlbnQ7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0ID0gdGhpczsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZnJlc2hDb21tZW50TGlzdChpdGVtSWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBjb21tZW50RGF0YSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlLmZpcmVzdG9yZSgpLmNvbGxlY3Rpb24odGhpcy5raW5kKS5kb2MoY29tbWVudERhdGEuaXRlbS5pZCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGl0ZW1SZWYgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtUmVmLmdldCgpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBpdGVtRGF0YSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDEzOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gY29tbWVudERhdGEucmVwbHlbU3ltYm9sLml0ZXJhdG9yXSgpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgaWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAgICAgICBpZiAodGhpcy5tZW1iZXJzW2NvbnRlbnQudWlkXSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuR2V0VXNlckJ5SWQoY29udGVudC51aWQpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgdGhpcy5tZW1iZXJzW2NvbnRlbnQudWlkXSA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDMwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDI2OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDEzKTsKICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gX2NvbnRleHQzLnQwOwoKICAgICAgICAgICAgICBjYXNlIDMwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAzMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMzE7CgogICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMzM6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDMzOwoKICAgICAgICAgICAgICAgIGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7CgogICAgICAgICAgICAgIGNhc2UgMzY6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmZpbmlzaCgzMyk7CgogICAgICAgICAgICAgIGNhc2UgMzc6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmZpbmlzaCgzMCk7CgogICAgICAgICAgICAgIGNhc2UgMzg6CiAgICAgICAgICAgICAgICAvLyDmm7TmlrAKICAgICAgICAgICAgICAgIHRoaXMuaXRlbUlkID0gaXRlbURhdGEuZGF0YSgpLmlkOwogICAgICAgICAgICAgICAgdGhpcy51aWQgPSBpdGVtRGF0YS5kYXRhKCkudWlkOwogICAgICAgICAgICAgICAgdGhpcy50eXBlID0gaXRlbURhdGEuZGF0YSgpLnR5cGU7CiAgICAgICAgICAgICAgICB0aGlzLnJlcGx5ID0gY29tbWVudERhdGEucmVwbHk7CiAgICAgICAgICAgICAgICB0aGlzLmdvb2QgPSBjb21tZW50RGF0YS5nb29kOwogICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVkX2F0ID0gdGhpcy5nZXRGb3JtYXRlZERhdGUoaXRlbURhdGEuZGF0YSgpLmNyZWF0ZWRfYXQuc2Vjb25kcyk7CiAgICAgICAgICAgICAgICB0aGlzLmNoYXQgPSB7CiAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNoYXQudmFsdWUsCiAgICAgICAgICAgICAgICAgIGlzU2hvdzogdGhpcy5jaGF0LmlzU2hvdywKICAgICAgICAgICAgICAgICAgaXNDbGlja2VkOiBmYWxzZQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBpZiAodGhpcy5raW5kID09ICJsaXN0cyIpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lID0gaXRlbURhdGEuZGF0YSgpLm5hbWU7CiAgICAgICAgICAgICAgICAgIHRoaXMucHJpY2UgPSBpdGVtRGF0YS5kYXRhKCkucHJpY2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMua2luZCA9PSAidGFsa3MiKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMubmFtZSA9IGl0ZW1EYXRhLmRhdGEoKS50aXRsZTsKICAgICAgICAgICAgICAgICAgdGhpcy5wcmljZSA9IG51bGw7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUbyh0aGlzLiRyZWZzLmNvbW1lbnRfdGFibGUsICJib3R0b20iLCA2MDApOwoKICAgICAgICAgICAgICBjYXNlIDQ3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzLCBbWzEzLCAyNiwgMzAsIDM4XSwgWzMxLCwgMzMsIDM3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiByZWZyZXNoKF94KSB7CiAgICAgICAgcmV0dXJuIF9yZWZyZXNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZWZyZXNoOwogICAgfSgpLAogICAgc2VuZENoYXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zZW5kQ2hhdCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBub3csIG1zZ1JlZiwgbGlzdFJlZiwgbXNnRGF0YSwgaXRlbURhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYXQudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHRoaXMuY2hhdC5pc0NsaWNrZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgbm93ID0gZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCk7CiAgICAgICAgICAgICAgICBtc2dSZWYgPSBmaXJlYmFzZS5maXJlc3RvcmUoKS5jb2xsZWN0aW9uKCJjb21tZW50cyIpLmRvYyh0aGlzLml0ZW1JZCk7CiAgICAgICAgICAgICAgICBsaXN0UmVmID0gdGhpcy5kYi5jb2xsZWN0aW9uKHRoaXMua2luZCkuZG9jKHRoaXMuaXRlbUlkKTsKICAgICAgICAgICAgICAgIG1zZ0RhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHVpZDogdGhpcy51c2VyLnVpZCwKICAgICAgICAgICAgICAgICAgbXNnOiB0aGlzLmNoYXQudmFsdWUsCiAgICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IE1hdGguZmxvb3IobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGl0ZW1EYXRhID0gewogICAgICAgICAgICAgICAgICB1cGRhdGVkX2F0OiBub3csCiAgICAgICAgICAgICAgICAgIHJlcGx5OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5pbmNyZW1lbnQoMSkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIG1zZ1JlZi51cGRhdGUoewogICAgICAgICAgICAgICAgICByZXBseTogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuYXJyYXlVbmlvbihtc2dEYXRhKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RSZWYudXBkYXRlKF9vYmplY3RTcHJlYWQoe30sIGl0ZW1EYXRhKSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAvLyB0aGlzLnJlZnJlc2godGhpcy5pdGVtSWQpCiAgICAgICAgICAgICAgICB0aGlzLmlzU2hvdyA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5jaGF0LnZhbHVlID0gIiI7CiAgICAgICAgICAgICAgICB0aGlzLmNoYXQuaXNTaG93ID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLmNoYXQuaXNDbGlja2VkID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzZW5kQ2hhdCgpIHsKICAgICAgICByZXR1cm4gX3NlbmRDaGF0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzZW5kQ2hhdDsKICAgIH0oKQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoewogICAgdXNlcjogJ2F1dGgvdXNlcicKICB9KSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9Cn07"},{"version":3,"sources":["comment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"comment table-choco\" ref=\"comment_table\">\n      <table class=\"item-table-choco back-choco body-2\" cellspacing=\"0\">\n        <tr>\n          <th class=\"item-th-choco text-choco body-2\">\n            <template v-if=\"kind == 'lists'\">装備名</template>\n            <template v-else-if=\"kind == 'talks'\">タイトル</template>\n          </th>\n          <td class=\"item-td-choco text-choco-dark\">{{name}}</td>\n        </tr>\n        <tr v-if=\"price\">\n          <th class=\"item-th-choco text-choco body-2\">\n            <span v-if=\"type == 1\">買い価格</span>\n            <span v-else-if=\"type == 2\">売り価格</span>\n            <span v-else>価格</span>\n          </th>\n          <td class=\"item-td-choco text-choco-dark\">{{price}}</td>\n        </tr>\n        <tr>\n          <th class=\"item-th-choco text-choco body-2\">作成者</th>\n          <td class=\"item-td-choco text-choco-dark\">{{members[uid] ? members[uid][\"name\"] : \"\"}}</td>\n        </tr>\n        <tr>\n          <th class=\"item-th-choco text-choco body-2\">作成日</th>\n          <td class=\"item-td-choco text-choco-dark\">{{created_at}}</td>\n        </tr>\n      </table>\n      <ul class=\"chat-choco oneArea\">\n        <li v-for=\"(content,index) in reply\" :key=\"index\" class=\"onebox\" :class=\"{'owner': content.uid == uid, 'myself': content.uid == user.uid,'member': content.uid != user.uid}\">\n          <div class=\"fukiArea\">\n            <v-avatar color=\"\" size=\"30\" v-if=\"content.uid == uid\">\n              <img\n                src=\"@/assets/imgs/avatars/100.gif\"\n                alt=\"John\"\n              >\n            </v-avatar>\n            <v-avatar size=\"30\" v-else>\n              <img\n                src=\"@/assets/imgs/avatars/101.gif\"\n                alt=\"John\"\n                style=\"transform: scale(-1, 1);\"\n              >\n            </v-avatar>\n            <div>\n              <div class=\"fukidasi\">\n                <p v-html=\"content.msg\" class=\"text-normal\"></p>\n                <p class=\"member_name\">{{members[content.uid] ? members[content.uid][\"name\"] : \"\"}}</p>\n              </div>\n              <p class=\"msg_time\">{{getFormatedDate(content.created_at)}}</p>\n            </div>\n          </div>\n        </li>\n      </ul>\n      <v-row justify=\"center\">\n        <v-dialog\n          v-model=\"chat.isShow\"\n          max-width=\"500\"\n          width=\"90%\"\n        >\n          <div class=\"modal-choco\">\n            <div class=\"head text-choco pl-2 body-2\">comment</div>\n            <div class=\"body text-choco-dark pa-2 mt-3 modal-textarea-choco\">\n              <v-textarea\n                outlined\n                label=\"返信..\"\n                v-model=\"chat.value\"\n                no-resize\n                height=\"180px\"\n                class=\"text-normal\"\n              ></v-textarea>\n            </div>\n            <div class=\"footer\">\n              <v-btn color=\"#487DF6\" class=\"button-choco\" :class=\"{'pointer-none': chat.isClicked}\" dark @click=\"sendChat()\">\n                <span>書き込む</span>\n              </v-btn>\n              <v-btn color=\"#487DF6\" class=\"button-choco\" dark @click=\"chat.isShow = false\">\n                <span>閉じる</span>\n              </v-btn>\n            </div>\n          </div>\n        </v-dialog>\n      </v-row>\n    </div>\n    <div class=\"panel-choco\">\n      <div class=\"good ma-2\">\n        <v-icon left color=\"red lighten-2\" @click=\"sendGood()\">mdi-thumb-up</v-icon>\n        <span>{{good}}</span>\n      </div>\n      <v-btn class=\"mx-2 back\" fab dark small color=\"#1E2E58\" @click=\"$emit('closeReply'); closeListener()\">\n        <v-icon dark>mdi-undo</v-icon>\n      </v-btn>\n      <v-btn class=\"mx-2 write\" fab dark small color=\"#1E2E58\" @click=\"chat.isShow = true\">\n        <v-icon dark>mdi-pencil</v-icon>\n      </v-btn>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters, mapMutations, mapActions } from 'vuex'\nimport firebase from 'firebase'\nimport firebaseConfig from '@/plugins/firebase'\nimport '@/assets/scss/chat.scss'\n\nexport default {\n  data () {\n    return {\n      notices: null,\n      kind: \"lists\",\n      itemId: \"\",\n      name: \"\",\n      price: \"\",\n      uid: \"\",\n      type: \"\",\n      good: 0,\n      reply: [],\n      created_at: \"\",\n      chat: {\n        value: \"\",\n        isShow: false,\n        isClicked: false\n      },\n      members: {\n      },\n      listener: null\n    }\n  },\n  methods: {\n    setKind(kind) {\n      this.kind = kind\n    },\n    init(itemId) {\n      let t = this\n      t.listener = firebase.firestore().collection(\"comments\").doc(itemId).onSnapshot(function (querySnapshot) {\n        t.refresh(itemId)\n        t.refreshNotice(t.user.uid)\n      })\n    },\n    closeListener() {\n      this.listener()\n    },\n    async sendGood(){\n      let noticeRef = this.db.collection(\"notices\").doc(this.user.uid)\n      let msgRef = this.db.collection(\"comments\").doc(this.itemId)\n      let listRef = this.db.collection(\"lists\").doc(this.itemId)\n\n      let now = firebase.firestore.FieldValue.serverTimestamp()\n\n      let msgData = {\n        updated_at: now,\n        good: firebase.firestore.FieldValue.increment(1)\n      }\n      await noticeRef.update({\n        items: firebase.firestore.FieldValue.arrayUnion(listRef)\n      })\n      await msgRef.update({\n         ...msgData \n      })\n    },\n    async refreshNotice(){\n      let noticeRef = await firebase.firestore().collection(\"notices\").doc(this.user.uid)\n      let noticeData = await noticeRef.get()\n      this.notices = noticeData.data()\n      // console.log(this.notices)\n    },\n    async refresh(itemId){\n      let t = this\n\n      let commentData = await this.RefreshCommentList(itemId)\n      let itemRef = await firebase.firestore().collection(this.kind).doc(commentData.item.id)\n      let itemData = await itemRef.get()\n\n      for(let content of commentData.reply){\n        if(!this.members[content.uid]){\n          this.members[content.uid] = await this.GetUserById(content.uid)\n        }\n      }\n\n      // 更新\n      this.itemId = itemData.data().id\n      this.uid = itemData.data().uid\n      this.type = itemData.data().type\n      this.reply = commentData.reply\n      this.good = commentData.good\n      this.created_at = this.getFormatedDate(itemData.data().created_at.seconds)\n      this.chat = {\n        value: this.chat.value,\n        isShow: this.chat.isShow,\n        isClicked: false\n      }\n      if(this.kind == \"lists\"){\n        this.name = itemData.data().name\n        this.price = itemData.data().price\n      }else if(this.kind == \"talks\"){\n        this.name = itemData.data().title\n        this.price = null\n      }\n      this.scrollTo(this.$refs.comment_table,\"bottom\",600)\n    },\n    async sendChat(){\n      if(!this.chat.value) return\n      this.chat.isClicked = true\n      let now = firebase.firestore.FieldValue.serverTimestamp()\n      let msgRef = firebase.firestore().collection(\"comments\").doc(this.itemId)\n      let listRef = this.db.collection(this.kind).doc(this.itemId)\n      let msgData = {\n        uid: this.user.uid,\n        msg: this.chat.value,\n        created_at: Math.floor( new Date().getTime() / 1000 )\n      }\n      let itemData = {\n        updated_at: now,\n        reply: firebase.firestore.FieldValue.increment(1)\n      }\n      await msgRef.update({\n        reply: firebase.firestore.FieldValue.arrayUnion(msgData)\n      });\n      await listRef.update({\n         ...itemData \n      })\n      // this.refresh(this.itemId)\n      this.isShow = false\n      this.chat.value = \"\"\n      this.chat.isShow = false\n      this.chat.isClicked = false\n    },\n  },\n  computed: {\n    ...mapGetters({\n      user: 'auth/user',\n    }),\n  },\n  mounted(){\n  }\n}\n</script>\n\n<style lang=\"scss\">\n$base_color_1: #FFEAC8;\n$base_color_2: #B1A3A7;\n$base_color_3: #E1CABB;\n$base_color_4: #1E2E58;\n\n.comment{\n  &.table-choco{\n    padding: 9px;\n  }\n  .item-th-choco{\n    border-radius: 0;\n    width: 80px;\n    background: $base_color_4;\n  }\n  .item-td-choco{\n    background-color: $base_color_3;\n    border-bottom: 1px solid $base_color_2;\n    padding: 5px 10px;\n  }\n  .chat-choco{\n    list-style: none;\n    padding-left: 0;\n    margin-top: 12px;\n    font-family: \"choco\";\n    font-size: 14px;\n    // margin-bottom: 80px;\n    .msg{\n      background-color: #E1CABB;\n    }\n  }\n  .item-table-choco{\n    border: 1px solid $base_color_2;\n    border-radius: 7px;\n    overflow: hidden;\n    tr{\n      &:first-of-type{\n        td{\n          // padding-right: 70px;\n        }\n      }\n      &:last-of-type{\n        td{\n          border: 0;\n        }\n      }\n    }\n  }\n  .item-input-choco{\n    position: relative;\n    &.chat-input-choco{\n\n    }\n  }\n}\n</style>"],"sourceRoot":"src/components"}]}