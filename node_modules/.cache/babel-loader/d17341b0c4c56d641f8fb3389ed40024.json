{"remainingRequest":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/babel-loader/lib/index.js!/Users/yokoyamakenta/Desktop/choco_mart/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/yokoyamakenta/Desktop/choco_mart/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yokoyamakenta/Desktop/choco_mart/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yokoyamakenta/Desktop/choco_mart/src/components/comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yokoyamakenta/Desktop/choco_mart/src/components/comment.vue","mtime":1602979156158},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/cache-loader/dist/cjs.js","mtime":1599521191920},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/babel-loader/lib/index.js","mtime":1599521191611},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/vuetify-loader/lib/loader.js","mtime":1599521195655},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/cache-loader/dist/cjs.js","mtime":1599521191920},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/vue-loader/lib/index.js","mtime":1599521195584},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/cache-loader/dist/cjs.js","mtime":1599521191920},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/babel-loader/lib/index.js","mtime":1599521191611},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/vuetify-loader/lib/loader.js","mtime":1599521195655},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/cache-loader/dist/cjs.js","mtime":1599521191920},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/vue-loader/lib/index.js","mtime":1599521195584}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMveW9rb3lhbWFrZW50YS9EZXNrdG9wL2Nob2NvX21hcnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy95b2tveWFtYWtlbnRhL0Rlc2t0b3AvY2hvY29fbWFydC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEdldHRlcnMsIG1hcE11dGF0aW9ucywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBUWVBFIGFzIF9UWVBFLCBUWVBFX1RFWFQsIFRBTEtfVFlQRSBhcyBfVEFMS19UWVBFLCBUWVBFX0NPTE9SIGFzIF9UWVBFX0NPTE9SLCBUWVBFX1RFWFRfU0hPUlQgYXMgX1RZUEVfVEVYVF9TSE9SVCwgU1RBVFVTIGFzIF9TVEFUVVMsIFNUQVRVU19URVhULCBDT01NRU5UX1RZUEUgYXMgX0NPTU1FTlRfVFlQRSB9IGZyb20gJ0AvY29uZmlnL2xpYnJhcnknOwppbXBvcnQgeyBVU0VSX1JFRiwgU0VMTF9SRUYsIEJVWV9SRUYsIE5PVElDRV9SRUYsIExJU1RfUkVGLCBUQUxLX1JFRiwgQ09NTUVOVF9SRUYgfSBmcm9tICdAL2NvbmZpZy9maXJlYmFzZS9yZWYnOwppbXBvcnQgeyBNQVhfRkFWT1JJVEUgYXMgX01BWF9GQVZPUklURSB9IGZyb20gJ0AvY29uZmlnL3NldHRpbmcnOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwppbXBvcnQgJ0AvYXNzZXRzL3Njc3MvY29tcG9uZW50cy9jaGF0LnNjc3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGtpbmQ6IF9DT01NRU5UX1RZUEUuTElTVCwKICAgICAgaXRlbUlkOiAnJywKICAgICAgbmFtZTogJycsCiAgICAgIHByaWNlOiAnJywKICAgICAgdWlkOiAnJywKICAgICAgdHlwZTogX1RZUEUuQlVZLAogICAgICBnb29kOiAwLAogICAgICByZXBseTogW10sCiAgICAgIGNyZWF0ZWRfYXQ6ICcnLAogICAgICBjaGF0OiB7CiAgICAgICAgdmFsdWU6ICcnLAogICAgICAgIGlzU2hvdzogZmFsc2UsCiAgICAgICAgbG9hZGluZzogZmFsc2UKICAgICAgfSwKICAgICAgdXNlckluZm86IHsKICAgICAgICBpc1Nob3c6IGZhbHNlLAogICAgICAgIHVzZXJJZDogJycsCiAgICAgICAgaXNCYW46IGZhbHNlCiAgICAgIH0sCiAgICAgIGljb25TZWxlY3Q6IHsKICAgICAgICBpc1Nob3c6IGZhbHNlCiAgICAgIH0sCiAgICAgIHNlbGZJbmZvOiBudWxsLAogICAgICBpc0dvb2Q6IGZhbHNlLAogICAgICBjYW5Hb29kOiB0cnVlLAogICAgICBsaXN0ZW5lcjogZnVuY3Rpb24gbGlzdGVuZXIoKSB7fQogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoJ2ZpcmViYXNlJywgWydyZWdpc3Rlckdvb2QnLCAncmVtb3ZlR29vZCcsICdnZXROb3RpY2VMaXN0UmVmJywgJ3JlZ2lzdGVyQ29tbWVudCcsICdnZXRDb21tZW50TGlzdCcsICdnZXRUYWxrTWVtYmVyTGlzdCcsICdnZXRVc2VyVHJhZGVMaXN0J10pLCB7fSwgbWFwQWN0aW9ucygnYXV0aCcsIFsnZ2V0VXNlckJ5SWQnLCAncmVnaXN0ZXJCYW4nLCAncmVsZWFzZUJhbicsICd1cGRhdGVJY29uJ10pLCB7fSwgbWFwTXV0YXRpb25zKCdmaXJlYmFzZScsIFsncmVzZXRUYWxrTWVtYmVyTGlzdCddKSwge30sIG1hcE11dGF0aW9ucygnbG9hZGluZycsIFsnc2V0SXNMb2FkaW5nJywgJ3NldFN0YXR1c01zZyddKSwge30sIG1hcE11dGF0aW9ucyh7CiAgICBzZXRJc1Nob3dFcnJvcjogJ21vZGFsL3NldElzU2hvd0Vycm9yJywKICAgIHNldE1vZGFsU3RhdHVzTXNnOiAnbW9kYWwvc2V0U3RhdHVzTXNnJwogIH0pLCB7CiAgICB0YWJsZVNjcm9sbDogZnVuY3Rpb24gdGFibGVTY3JvbGwoKSB7CiAgICAgIHRoaXMuc2Nyb2xsVG8odGhpcy4kcmVmcy5jb21tZW50X3RhYmxlLCAnYm90dG9tJywgNjAwKTsKICAgIH0sCiAgICBzZXRLaW5kOiBmdW5jdGlvbiBzZXRLaW5kKGtpbmQpIHsKICAgICAgdGhpcy5raW5kID0ga2luZDsKICAgIH0sCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KGl0ZW1JZCkgewogICAgICB0aGlzLmxpc3RlbmVyID0gQ09NTUVOVF9SRUYoKS5kb2MoaXRlbUlkKS5vblNuYXBzaG90KGZ1bmN0aW9uIChxdWVyeVNuYXBzaG90KSB7CiAgICAgICAgdGhpcy5yZWZyZXNoKGl0ZW1JZCk7CiAgICAgIH0uYmluZCh0aGlzKSk7CiAgICB9LAogICAgY2xvc2VMaXN0ZW5lcjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2Nsb3NlTGlzdGVuZXIgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHIsIDMwMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgLy8g44Kr44Kv44OE44Kt6Ziy5q2i44GnMzAwbXPnva7jgYTjgabjgYvjgonjg6rjgrvjg4Pjg4gKICAgICAgICAgICAgICAgIHRoaXMucmVzZXRUYWxrTWVtYmVyTGlzdCgpOwogICAgICAgICAgICAgICAgdGhpcy5yZXBseSA9IFtdOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gY2xvc2VMaXN0ZW5lcigpIHsKICAgICAgICByZXR1cm4gX2Nsb3NlTGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNsb3NlTGlzdGVuZXI7CiAgICB9KCksCiAgICBwbHVzR29vZDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3BsdXNHb29kID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbkdvb2QpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGlmICghKE9iamVjdC5rZXlzKHRoaXMubm90aWNlcykubGVuZ3RoID49IHRoaXMuTUFYX0ZBVk9SSVRFKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNTaG93RXJyb3IodHJ1ZSk7CiAgICAgICAgICAgICAgICB0aGlzLnNldE1vZGFsU3RhdHVzTXNnKCJcdTMwNEFcdTZDMTdcdTMwNkJcdTUxNjVcdTMwOEFcdTMwNkJcdTc2N0JcdTkzMzJcdTMwNjdcdTMwNERcdTMwOEJcdTMwNkVcdTMwNkYiLmNvbmNhdCh0aGlzLk1BWF9GQVZPUklURSwgIlx1NEVGNlx1MzA3RVx1MzA2N1x1MzA2N1x1MzA1OVx1MzAwMiIpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgdGhpcy5jYW5Hb29kID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3Rlckdvb2QoewogICAgICAgICAgICAgICAgICBraW5kOiB0aGlzLmtpbmQsCiAgICAgICAgICAgICAgICAgIGl0ZW1JZDogdGhpcy5pdGVtSWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVmcmVzaE5vdGljZSgpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgdGhpcy5jYW5Hb29kID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHBsdXNHb29kKCkgewogICAgICAgIHJldHVybiBfcGx1c0dvb2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHBsdXNHb29kOwogICAgfSgpLAogICAgbWludXNHb29kOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbWludXNHb29kID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbkdvb2QpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHRoaXMuY2FuR29vZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlR29vZCh7CiAgICAgICAgICAgICAgICAgIGtpbmQ6IHRoaXMua2luZCwKICAgICAgICAgICAgICAgICAgaXRlbUlkOiB0aGlzLml0ZW1JZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZnJlc2hOb3RpY2UoKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgdGhpcy5jYW5Hb29kID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbWludXNHb29kKCkgewogICAgICAgIHJldHVybiBfbWludXNHb29kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBtaW51c0dvb2Q7CiAgICB9KCksCiAgICByZWZyZXNoTm90aWNlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmcmVzaE5vdGljZSA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBub3RpY2VzLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIG5vdGljZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE5vdGljZUxpc3RSZWYoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgbm90aWNlcyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDY7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IgPSBub3RpY2VzLml0ZW1zW1N5bWJvbC5pdGVyYXRvcl0oKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgaWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG5vdGljZSA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgICAgICAgIGlmICghKG5vdGljZS5pZCA9PT0gdGhpcy5pdGVtSWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuaXNHb29kID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDE4OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0WyJjYXRjaCJdKDYpOwogICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBfY29udGV4dDQudDA7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDIyOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAyMzsKCiAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMjU7CgogICAgICAgICAgICAgICAgaWYgKCFfZGlkSXRlcmF0b3JFcnJvcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKCiAgICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuZmluaXNoKDI1KTsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuZmluaXNoKDIyKTsKCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICAgIHRoaXMuaXNHb29kID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMsIFtbNiwgMTgsIDIyLCAzMF0sIFsyMywsIDI1LCAyOV1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcmVmcmVzaE5vdGljZSgpIHsKICAgICAgICByZXR1cm4gX3JlZnJlc2hOb3RpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlZnJlc2hOb3RpY2U7CiAgICB9KCksCiAgICByZWZyZXNoOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmcmVzaCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KGl0ZW1JZCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb21tZW50TGlzdCh7CiAgICAgICAgICAgICAgICAgIGl0ZW1JZDogaXRlbUlkLAogICAgICAgICAgICAgICAgICBraW5kOiB0aGlzLmtpbmQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUYWxrTWVtYmVyTGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAvLyDmm7TmlrAKICAgICAgICAgICAgICAgIHRoaXMuaXRlbUlkID0gdGhpcy5jb21tZW50cy5pdGVtLmlkOwogICAgICAgICAgICAgICAgdGhpcy51aWQgPSB0aGlzLmNvbW1lbnRzLml0ZW0udWlkOwogICAgICAgICAgICAgICAgdGhpcy50eXBlID0gdGhpcy5jb21tZW50cy5pdGVtLnR5cGU7CiAgICAgICAgICAgICAgICB0aGlzLnJlcGx5ID0gdGhpcy5jb21tZW50cy5yZXBseTsKICAgICAgICAgICAgICAgIHRoaXMuZ29vZCA9IHRoaXMuY29tbWVudHMuZ29vZDsKICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlZF9hdCA9IHRoaXMuY29tbWVudHMuaXRlbS5jcmVhdGVkX2F0LnNlY29uZHM7CiAgICAgICAgICAgICAgICB0aGlzLmNoYXQgPSB7CiAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNoYXQudmFsdWUsCiAgICAgICAgICAgICAgICAgIGlzU2hvdzogdGhpcy5jaGF0LmlzU2hvdywKICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgaWYgKHRoaXMua2luZCA9PT0gX0NPTU1FTlRfVFlQRS5MSVNUKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMubmFtZSA9IHRoaXMuY29tbWVudHMuaXRlbS5uYW1lOwogICAgICAgICAgICAgICAgICB0aGlzLnByaWNlID0gdGhpcy5jb21tZW50cy5pdGVtLnByaWNlOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmtpbmQgPT09IF9DT01NRU5UX1RZUEUuVEFMSykgewogICAgICAgICAgICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbW1lbnRzLml0ZW0udGl0bGU7CiAgICAgICAgICAgICAgICAgIHRoaXMucHJpY2UgPSBudWxsOwogICAgICAgICAgICAgICAgfSAvLyDjgrnjgq/jg63jg7zjg6vkvY3nva7jgYzkuIvjga7mlrnjgafjgYLjgozjgbAKCgogICAgICAgICAgICAgICAgaWYgKHRoaXMuJHJlZnMuY29tbWVudF90YWJsZS5zY3JvbGxIZWlnaHQgLSB0aGlzLiRyZWZzLmNvbW1lbnRfdGFibGUuc2Nyb2xsVG9wIDwgMTMwMCkgewogICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlU2Nyb2xsKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiByZWZyZXNoKF94KSB7CiAgICAgICAgcmV0dXJuIF9yZWZyZXNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZWZyZXNoOwogICAgfSgpLAogICAgc2VuZENoYXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zZW5kQ2hhdCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGF0LnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICB0aGlzLmNoYXQubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlckNvbW1lbnQoewogICAgICAgICAgICAgICAgICBpdGVtSWQ6IHRoaXMuaXRlbUlkLAogICAgICAgICAgICAgICAgICBraW5kOiB0aGlzLmtpbmQsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuY2hhdC52YWx1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHRoaXMuY2hhdC52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgdGhpcy5jaGF0LmlzU2hvdyA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5jaGF0LmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMudGFibGVTY3JvbGwoKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc2VuZENoYXQoKSB7CiAgICAgICAgcmV0dXJuIF9zZW5kQ2hhdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gc2VuZENoYXQ7CiAgICB9KCksCiAgICB0cmFuc2xhdGVPdGhlckRlYWw6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF90cmFuc2xhdGVPdGhlckRlYWwgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNyhpdGVtSWQpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2xvc2VSZXBseScpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xvc2VMaXN0ZW5lcigpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdzaG93UmVwbHknLCBpdGVtSWQsIF9DT01NRU5UX1RZUEUuTElTVCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHRyYW5zbGF0ZU90aGVyRGVhbChfeDIpIHsKICAgICAgICByZXR1cm4gX3RyYW5zbGF0ZU90aGVyRGVhbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdHJhbnNsYXRlT3RoZXJEZWFsOwogICAgfSgpLAogICAgc2hvd1VzZXJJbmZvOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfc2hvd1VzZXJJbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgodXNlcklkKSB7CiAgICAgICAgdmFyIHVzZXJJbmZvOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLnNldElzTG9hZGluZyh0cnVlKTsKICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzTXNnKCfjg6bjg7zjgrbjg7zmg4XloLHlj5blvpfkuK0uLicpOyAvLyDliJ3lm57jga7jgb/oh6rliIbjga7mg4XloLHjgYzlhaXjgaPjgabjgYTjgarjgZHjgozjgbDlj5blvpcKCiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxmSW5mbykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFVzZXJCeUlkKHsKICAgICAgICAgICAgICAgICAgdXNlcklkOiB0aGlzLnVzZXIudWlkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgdGhpcy5zZWxmSW5mbyA9IF9jb250ZXh0OC5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRVc2VyQnlJZCh7CiAgICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlcklkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgdXNlckluZm8gPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgIHRoaXMudXNlckluZm8uaXNCYW4gPSB1c2VySW5mby5pc0JhbjsKICAgICAgICAgICAgICAgIHRoaXMudXNlckluZm8udXNlcklkID0gdXNlcklkOwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFVzZXJUcmFkZUxpc3QoewogICAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXJJZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICB0aGlzLnNldElzTG9hZGluZyhmYWxzZSk7CiAgICAgICAgICAgICAgICB0aGlzLnVzZXJJbmZvLmlzU2hvdyA9IHRydWU7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzaG93VXNlckluZm8oX3gzKSB7CiAgICAgICAgcmV0dXJuIF9zaG93VXNlckluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNob3dVc2VySW5mbzsKICAgIH0oKSwKICAgIHNldEljb246IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zZXRJY29uID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoaWNvbk5vKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUljb24oewogICAgICAgICAgICAgICAgICBpY29uOiBpY29uTm8KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICB0aGlzLmdldFRhbGtNZW1iZXJMaXN0KCk7CiAgICAgICAgICAgICAgICB0aGlzLmljb25TZWxlY3QuaXNTaG93ID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNldEljb24oX3g0KSB7CiAgICAgICAgcmV0dXJuIF9zZXRJY29uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzZXRJY29uOwogICAgfSgpCiAgfSksCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoewogICAgVFlQRTogZnVuY3Rpb24gVFlQRSgpIHsKICAgICAgcmV0dXJuIF9UWVBFOwogICAgfSwKICAgIFRBTEtfVFlQRTogZnVuY3Rpb24gVEFMS19UWVBFKCkgewogICAgICByZXR1cm4gX1RBTEtfVFlQRTsKICAgIH0sCiAgICBTVEFUVVM6IGZ1bmN0aW9uIFNUQVRVUygpIHsKICAgICAgcmV0dXJuIF9TVEFUVVM7CiAgICB9LAogICAgQ09NTUVOVF9UWVBFOiBmdW5jdGlvbiBDT01NRU5UX1RZUEUoKSB7CiAgICAgIHJldHVybiBfQ09NTUVOVF9UWVBFOwogICAgfSwKICAgIFRZUEVfQ09MT1I6IGZ1bmN0aW9uIFRZUEVfQ09MT1IoKSB7CiAgICAgIHJldHVybiBfVFlQRV9DT0xPUjsKICAgIH0sCiAgICBUWVBFX1RFWFRfU0hPUlQ6IGZ1bmN0aW9uIFRZUEVfVEVYVF9TSE9SVCgpIHsKICAgICAgcmV0dXJuIF9UWVBFX1RFWFRfU0hPUlQ7CiAgICB9LAogICAgTUFYX0ZBVk9SSVRFOiBmdW5jdGlvbiBNQVhfRkFWT1JJVEUoKSB7CiAgICAgIHJldHVybiBfTUFYX0ZBVk9SSVRFOwogICAgfQogIH0sIG1hcEdldHRlcnMoewogICAgdXNlcjogJ2F1dGgvdXNlcicsCiAgICBjb21tZW50czogJ2ZpcmViYXNlL2NvbW1lbnRMaXN0JywKICAgIG1lbWJlcnM6ICdmaXJlYmFzZS90YWxrTWVtYmVyTGlzdCcsCiAgICB1c2VySXRlbXM6ICdmaXJlYmFzZS90YWxrTWVtYmVyVHJhZGVMaXN0JywKICAgIG5vdGljZXM6ICdmaXJlYmFzZS9ub3RpY2VMaXN0JwogIH0pKSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30KfTs="},{"version":3,"sources":["comment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"page-parent\">\n    <div class=\"comment table-choco\" ref=\"comment_table\">\n      <table class=\"item-table-choco back-choco body-2\" cellspacing=\"0\">\n        <tr>\n          <th class=\"item-th-choco text-choco body-2\">\n            <template v-if=\"kind === COMMENT_TYPE.LIST\">装備名</template>\n            <template v-else-if=\"kind === COMMENT_TYPE.TALK\">タイトル</template>\n          </th>\n          <td class=\"item-td-choco text-choco-dark\">{{name}}</td>\n        </tr>\n        <tr v-if=\"price\">\n          <th class=\"item-th-choco text-choco body-2\">\n            <span v-if=\"type === TYPE.BUY\">買い価格</span>\n            <span v-else-if=\"type === TYPE.SELL\">売り価格</span>\n          </th>\n          <td class=\"item-td-choco text-choco-dark\">{{price}}</td>\n        </tr>\n        <tr>\n          <th class=\"item-th-choco text-choco body-2\">作成者</th>\n          <td class=\"item-td-choco text-choco-dark\">{{members[uid] ? members[uid][\"name\"] : \"\"}}</td>\n        </tr>\n        <tr>\n          <th class=\"item-th-choco text-choco body-2\">作成日</th>\n          <td class=\"item-td-choco text-choco-dark\">{{getFormatedDate(created_at)}}</td>\n        </tr>\n      </table>\n      <ul class=\"chat-choco oneArea\">\n        <li v-for=\"(content,index) in reply\" :key=\"index\" class=\"onebox\" :class=\"{'owner': content.uid === uid, 'myself': content.uid === user.uid,'member': content.uid != user.uid}\">\n          <div class=\"fukiArea\">\n            <v-avatar size=\"30\" v-if=\"content.uid === user.uid\" class=\"pointer\" @click=\"iconSelect.isShow = true\">\n              <img :src=\"require(`@/assets/imgs/avatars/${members[content.uid].icon}.gif`)\" :style=\"getIconImageStyle(members[content.uid].icon,true)\">\n            </v-avatar>\n            <v-avatar size=\"30\" v-else class=\"pointer\" @click=\"showUserInfo(content.uid)\">\n              <img :src=\"require(`@/assets/imgs/avatars/${members[content.uid].icon}.gif`)\" :style=\"getIconImageStyle(members[content.uid].icon,false)\">\n            </v-avatar>\n            <div>\n              <div class=\"fukidasi\">\n                <p v-html=\"$sanitize(content.msg)\" class=\"text-normal\"></p>\n                <p class=\"member_name\">{{members[content.uid] ? members[content.uid][\"name\"] : \"\"}}</p>\n              </div>\n              <p class=\"msg_time\">{{getFormatedDate(content.created_at)}}</p>\n            </div>\n          </div>\n        </li>\n      </ul>\n      <v-row justify=\"center\">\n        <v-dialog\n          v-model=\"chat.isShow\"\n          max-width=\"500\"\n          width=\"90%\"\n        >\n          <div class=\"modal-choco\">\n            <div class=\"head text-choco pl-2 body-2\">comment</div>\n            <div class=\"body text-choco-dark pa-2 mt-3 modal-textarea-choco\">\n              <v-textarea\n                outlined\n                label=\"返信..\"\n                v-model=\"chat.value\"\n                no-resize\n                height=\"180px\"\n              ></v-textarea>\n            </div>\n            <div class=\"footer\">\n              <v-btn color=\"primary\" class=\"button-choco\" :loading=\"chat.loading\" dark @click=\"sendChat()\">\n                <span>書き込む</span>\n              </v-btn>\n              <v-btn color=\"primary\" class=\"button-choco\" dark @click=\"chat.isShow = false\">\n                <span>閉じる</span>\n              </v-btn>\n            </div>\n          </div>\n        </v-dialog>\n        <v-dialog\n          v-model=\"userInfo.isShow\"\n          max-width=\"500\"\n          width=\"90%\"\n        >\n          <div class=\"modal-choco userInfo\" v-if=\"members[userInfo.userId]\">\n            <div class=\"head text-choco pl-2 body-2\">{{ members[userInfo.userId].name }}の取引情報</div>\n            <div class=\"list\">\n              <table class=\"item-table-choco back-choco\" cellspacing=\"0\" ref=\"content_table\">\n                <thead>\n                  <tr class=\"item-th-choco text-choco body-2\">\n                    <th>装備名</th>\n                    <th>価格</th>\n                    <th>返</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr\n                    v-for=\"(item,index) in [...userItems.buys, ...userItems.sells]\"\n                    :key=\"index\"\n                    class=\"item-td-choco text-choco pointer\"\n                    @click=\"\n                      userInfo.isShow = false;\n                      translateOtherDeal(item.id)\n                    \"\n                  >\n                    <td>\n                      <div class=\"item-input-choco\">\n                        <v-chip\n                          dark\n                          :color=\"TYPE_COLOR[item.type]\"\n                          x-small\n                          class=\"chip\">{{TYPE_TEXT_SHORT[item.type]}}\n                        </v-chip>\n                        <span type=\"text\" class=\"text-choco-dark pl-12 text-truncate\">\n                          {{ item.name }}                 \n                        </span>\n                      </div>\n                    </td>\n                    <td>\n                      <div class=\"item-input-choco\">\n                        <span class=\"text-choco-dark text-truncate\">{{ item.price }}</span>\n                      </div>\n                    </td>\n                    <td>\n                      <div class=\"item-input-choco\">\n                        <span class=\"text-choco-dark link pointer text-truncate\">{{item.reply}}</span>\n                      </div>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <div class=\"footer\">\n              <template v-if=\"selfInfo.admin\">\n                <v-btn\n                  v-if=\"userInfo.isBan\"\n                  color=\"danger\"\n                  class=\"button-choco\"\n                  dark\n                  @click=\"releaseBan({userId: userInfo.userId}); userInfo.isShow = false\"\n                >\n                  <span>BAN解除</span>\n                </v-btn>\n                <v-btn\n                  v-else\n                  color=\"danger\"\n                  class=\"button-choco\"\n                  dark\n                  @click=\"registerBan({userId: userInfo.userId}); userInfo.isShow = false\"\n                >\n                  <span>BAN</span>\n                </v-btn>\n              </template>\n              <v-btn color=\"primary\" class=\"button-choco\" dark @click=\"userInfo.isShow = false\">\n                <span>閉じる</span>\n              </v-btn>\n            </div>\n          </div>\n        </v-dialog>\n        <v-overlay :value=\"iconSelect.isShow\">\n          <v-row class=\"icon-select-area\">\n            <v-col>\n              <v-btn class=\"mt-1 mb-1\" fab dark small text icon v-for=\"n in 37\" :key=\"n\" @click=\"setIcon(n)\">\n                <v-avatar color=\"\" size=\"30\">\n                  <img :src=\"require('@/assets/imgs/avatars/'+n+'.gif')\" :style=\"getIconImageStyle(n,true)\">\n                </v-avatar>\n              </v-btn>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col class=\"d-flex justify-center\">\n              <v-btn color=\"primary\" class=\"button-choco text-choco\" dark @click=\"iconSelect.isShow = false\">\n                <span>閉じる</span>\n              </v-btn>\n            </v-col>\n          </v-row>\n        </v-overlay>\n      </v-row>\n    </div>\n    <div class=\"panel-choco\">\n      <div class=\"good mx-2\">\n        <template v-if=\"isGood\">\n          <v-btn text icon color=\"pink\" @click=\"minusGood()\">\n            <v-icon>mdi-thumb-up</v-icon>\n          </v-btn>\n        </template>\n        <template v-else>\n          <v-btn text icon color=\"red lighten-2\" @click=\"plusGood()\">\n            <v-icon>mdi-thumb-up</v-icon>\n          </v-btn>\n        </template>\n        <span class=\"text-choco-dark\">{{good}}</span>\n      </div>\n      <v-btn class=\"mx-2 back\" fab dark small color=\"#1E2E58\" @click=\"$emit('closeReply'); closeListener()\">\n        <v-icon dark>mdi-undo</v-icon>\n      </v-btn>\n      <v-btn class=\"mx-2 write\" fab dark small color=\"#1E2E58\" @click=\"chat.isShow = true\">\n        <v-icon dark>mdi-pencil</v-icon>\n      </v-btn>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters, mapMutations, mapActions } from 'vuex'\nimport { TYPE, TYPE_TEXT, TALK_TYPE, TYPE_COLOR, TYPE_TEXT_SHORT, STATUS, STATUS_TEXT, COMMENT_TYPE } from '@/config/library'\nimport { USER_REF, SELL_REF, BUY_REF, NOTICE_REF, LIST_REF, TALK_REF, COMMENT_REF } from '@/config/firebase/ref'\nimport { MAX_FAVORITE } from '@/config/setting'\nimport firebase from 'firebase'\nimport '@/assets/scss/components/chat.scss'\n\nexport default {\n  data () {\n    return {\n      kind: COMMENT_TYPE.LIST,\n      itemId: '',\n      name: '',\n      price: '',\n      uid: '',\n      type: TYPE.BUY,\n      good: 0,\n      reply: [],\n      created_at: '',\n      chat: {\n        value: '',\n        isShow: false,\n        loading: false\n      },\n      userInfo: {\n        isShow: false,\n        userId: '',\n        isBan: false\n      },\n      iconSelect: {\n        isShow: false\n      },\n      selfInfo: null,\n      isGood: false,\n      canGood: true,\n      listener: () => {}\n    }\n  },\n  methods: {\n    ...mapActions('firebase', ['registerGood', 'removeGood', 'getNoticeListRef', 'registerComment', 'getCommentList', 'getTalkMemberList', 'getUserTradeList']),\n    ...mapActions('auth', ['getUserById', 'registerBan', 'releaseBan', 'updateIcon']),\n    ...mapMutations('firebase', ['resetTalkMemberList']),\n    ...mapMutations('loading', [\n      'setIsLoading',\n      'setStatusMsg'\n    ]),\n    ...mapMutations({\n      setIsShowError: 'modal/setIsShowError',\n      setModalStatusMsg: 'modal/setStatusMsg'\n    }),\n    tableScroll() {\n      this.scrollTo(this.$refs.comment_table, 'bottom', 600)\n    },\n    setKind(kind) {\n      this.kind = kind\n    },\n    init(itemId) {\n      this.listener = COMMENT_REF().doc(itemId).onSnapshot(function (querySnapshot) {\n        this.refresh(itemId)\n      }.bind(this))\n    },\n    async closeListener() {\n      this.listener()\n      await new Promise(r => setTimeout(r, 300)) // カクツキ防止で300ms置いてからリセット\n      this.resetTalkMemberList()\n      this.reply = []\n    },\n    async plusGood(){\n      if (!this.canGood) return\n      if (Object.keys(this.notices).length >= this.MAX_FAVORITE) {\n        this.setIsShowError(true)\n        this.setModalStatusMsg(`お気に入りに登録できるのは${this.MAX_FAVORITE}件までです。`)\n        return\n      }\n\n      this.canGood = false\n      await this.registerGood({kind: this.kind, itemId: this.itemId})\n      await this.refreshNotice()\n      this.canGood = true\n    },\n    async minusGood(){\n      if (!this.canGood) return\n      this.canGood = false\n      await this.removeGood({kind: this.kind, itemId: this.itemId})\n      await this.refreshNotice()\n      this.canGood = true\n    },\n    async refreshNotice(){\n      const notices = await this.getNoticeListRef()\n      for(const notice of notices.items) {\n        if(notice.id === this.itemId){\n          this.isGood = true\n          return\n        }\n      }\n      this.isGood = false\n    },\n    async refresh(itemId){\n      await this.getCommentList({itemId, kind: this.kind})\n      await this.getTalkMemberList()\n\n      // 更新\n      this.itemId = this.comments.item.id\n      this.uid = this.comments.item.uid\n      this.type = this.comments.item.type\n      this.reply = this.comments.reply\n      this.good = this.comments.good\n      this.created_at = this.comments.item.created_at.seconds\n      this.chat = {\n        value: this.chat.value,\n        isShow: this.chat.isShow,\n        loading: false\n      }\n      if(this.kind === COMMENT_TYPE.LIST){\n        this.name = this.comments.item.name\n        this.price = this.comments.item.price\n      }else if(this.kind === COMMENT_TYPE.TALK){\n        this.name = this.comments.item.title\n        this.price = null\n      }\n\n      // スクロール位置が下の方であれば\n      if(this.$refs.comment_table.scrollHeight - this.$refs.comment_table.scrollTop < 1300){\n        this.tableScroll()\n      }\n    },\n    async sendChat(){\n      if(!this.chat.value) return\n      this.chat.loading = true\n      await this.registerComment({itemId: this.itemId, kind: this.kind, message: this.chat.value})\n      this.chat.value = ''\n      this.chat.isShow = false\n      this.chat.loading = false\n      this.tableScroll()\n    },\n    async translateOtherDeal(itemId) {\n      this.$emit('closeReply')\n      await this.closeListener()\n      this.$emit('showReply', itemId, COMMENT_TYPE.LIST)\n    },\n    async showUserInfo(userId) {\n      this.setIsLoading(true)\n      this.setStatusMsg('ユーザー情報取得中..')\n\n      // 初回のみ自分の情報が入っていなければ取得\n      if(!this.selfInfo) {\n        this.selfInfo = await this.getUserById({userId: this.user.uid})\n      }\n      const userInfo = await this.getUserById({userId})\n      this.userInfo.isBan = userInfo.isBan\n      this.userInfo.userId = userId\n\n      await this.getUserTradeList({userId})\n      this.setIsLoading(false)\n      this.userInfo.isShow = true\n    },\n    async setIcon(iconNo){\n      await this.updateIcon({icon: iconNo})\n      this.getTalkMemberList()\n      this.iconSelect.isShow = false\n    }\n  },\n  computed: {\n    TYPE: () => TYPE,\n    TALK_TYPE: () => TALK_TYPE,\n    STATUS: () => STATUS,\n    COMMENT_TYPE: () => COMMENT_TYPE,\n    TYPE_COLOR: () => TYPE_COLOR,\n    TYPE_TEXT_SHORT: () => TYPE_TEXT_SHORT,\n    MAX_FAVORITE: () => MAX_FAVORITE,\n    ...mapGetters({\n      user: 'auth/user',\n      comments: 'firebase/commentList',\n      members: 'firebase/talkMemberList',\n      userItems: 'firebase/talkMemberTradeList',\n      notices: 'firebase/noticeList'\n    }),\n  },\n  mounted(){}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.comment{\n  &.table-choco{\n    padding: 9px;\n  }\n  .item-th-choco{\n    border-radius: 0;\n    width: 80px;\n    background: $base_color_4;\n  }\n  .item-td-choco{\n    background-color: $base_color_3;\n    border-bottom: 1px solid $base_color_2;\n    padding: 5px 10px;\n  }\n  .chat-choco{\n    list-style: none;\n    padding-left: 0;\n    margin-top: 12px;\n    font-family: \"choco\";\n    font-size: 14px;\n    // margin-bottom: 80px;\n    .msg{\n      background-color: #E1CABB;\n    }\n  }\n  .item-table-choco{\n    border: 1px solid $base_color_2;\n    border-radius: 7px;\n    overflow: hidden;\n    tr{\n      &:first-of-type{\n        td{\n          padding-right: 70px;\n        }\n      }\n      &:last-of-type{\n        td{\n          border: 0;\n        }\n      }\n    }\n  }\n  .item-input-choco{\n    position: relative;\n    &.chat-input-choco{\n\n    }\n  }\n}\n.icon-select-area{\n  width: 95vw;\n  max-width: 800px;\n}\n.modal-choco {\n  &.userInfo {\n    height: 500px;\n  }\n}\n.list{\n  padding: 9px;\n  height: 400px;\n  overflow: auto;\n  // padding-bottom: 0;\n  table{\n    border: 1px solid $base_color_2;\n    border-radius: 7px 7px 0 0;\n  }\n  .item-th-choco{\n    th{\n      &:first-of-type{\n        width: auto;\n        max-width: 200px;\n      }\n      &:nth-of-type(2){\n        width: 17%;\n        text-align: left;\n      }\n      &:last-of-type{\n        width: 2rem;\n      }\n    }\n  }\n}\n</style>"],"sourceRoot":"src/components"}]}