{"remainingRequest":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yokoyamakenta/Desktop/choco_mart/src/views/Init.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yokoyamakenta/Desktop/choco_mart/src/views/Init.vue","mtime":1580029173567},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yokoyamakenta/Desktop/choco_mart/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZScKaW1wb3J0IHN0b3JlIGZyb20gJy4uL3N0b3JlJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdJbml0JywKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0YXR1c01zZzogIuODpuODvOOCtuODvOaDheWgseiqjeiovOS4rSIKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICB9LAogIGFzeW5jIG1vdW50ZWQgKCkgewogICAgbGV0IHQgPSB0aGlzCiAgICBsZXQgdXNlckRhdGEgPSBhd2FpdCBmaXJlYmFzZS5hdXRoKCkuc2lnbkluQW5vbnltb3VzbHkoKQogICAgc3RvcmUuY29tbWl0KCdhdXRoL29uQXV0aFN0YXRlQ2hhbmdlZCcsIHVzZXJEYXRhLnVzZXIpOwogICAgc3RvcmUuY29tbWl0KCdhdXRoL29uVXNlclN0YXR1c0NoYW5nZWQnLCB1c2VyRGF0YS51c2VyLnVpZCA/IHRydWUgOiBmYWxzZSk7CgogICAgbGV0IHVzZXJSZWYgPSBmaXJlYmFzZS5maXJlc3RvcmUoKS5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyh1c2VyRGF0YS51c2VyLnVpZCkKICAgIGxldCBzZWxsUmVmID0gZmlyZWJhc2UuZmlyZXN0b3JlKCkuY29sbGVjdGlvbigic2VsbHMiKS5kb2ModXNlckRhdGEudXNlci51aWQpCiAgICBsZXQgYnV5UmVmID0gZmlyZWJhc2UuZmlyZXN0b3JlKCkuY29sbGVjdGlvbigiYnV5cyIpLmRvYyh1c2VyRGF0YS51c2VyLnVpZCkKICAgIGxldCBub3RpY2VSZWYgPSBmaXJlYmFzZS5maXJlc3RvcmUoKS5jb2xsZWN0aW9uKCJub3RpY2VzIikuZG9jKHVzZXJEYXRhLnVzZXIudWlkKQoKICAgIGF3YWl0IHVzZXJSZWYuZ2V0KCkudGhlbihmdW5jdGlvbihkb2MpIHsKICAgICAgaWYgKGRvYy5leGlzdHMpIHsKICAgICAgICB0LnN0YXR1c01zZyA9ICLjg6bjg7zjgrbjg7zmg4XloLHmm7TmlrDkuK0iCiAgICAgICAgdXNlclJlZi51cGRhdGUoewogICAgICAgICAgdXBkYXRlZF9hdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICAgICAgICB9KQogICAgICB9IGVsc2UgewogICAgICAgIHQuc3RhdHVzTXNnID0gIuWIneWbnuODpuODvOOCtuODvOaDheWgseS9nOaIkOS4rSIKICAgICAgICAvLyDliJ3mnJ/oqK3lrpoo44Om44O844K244O8KQogICAgICAgIHVzZXJSZWYuc2V0KHsKICAgICAgICAgIHVwZGF0ZWRfYXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpLAogICAgICAgICAgY3JlYXRlZF9hdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCksCiAgICAgICAgICBuYW1lOiAi5ZCN44KC54Sh44GN5YaS6Zm66ICFIgogICAgICAgIH0pCiAgICAgICAgLy8g5Yid5pyf6Kit5a6aKOWjsuOCiykKICAgICAgICBzZWxsUmVmLnNldCh7CiAgICAgICAgICBjb3VudDogMTAsCiAgICAgICAgfSkKICAgICAgICAvLyDliJ3mnJ/oqK3lrpoo5aOy44KLKQogICAgICAgIGJ1eVJlZi5zZXQoewogICAgICAgICAgY291bnQ6IDEwLAogICAgICAgIH0pCiAgICAgICAgLy8g5Yid5pyf6Kit5a6aKOmAmuefpSkKICAgICAgICBub3RpY2VSZWYuc2V0KHsKICAgICAgICAgIGl0ZW1zOiBbXQogICAgICAgIH0pCiAgICAgIH0KICAgIH0pOwogICAgdC5zdGF0dXNNc2cgPSAi44Om44O844K244O85pu05paw5a6M5LqGIgogICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICB0LiRyb3V0ZXIucHVzaCgnaG9tZScpCiAgICB9LDE1MDApCiAgfSwKfTsK"},{"version":3,"sources":["Init.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Init.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"init\">\n    <div class=\"init_display\">\n      <div class=\"init_head\"></div>\n      <div class=\"init_loader\"></div>\n      <div class=\"init_foot\">{{statusMsg}}..</div>\n    </div>\n    <v-btn to=\"/home\">go</v-btn>\n  </div>\n</template>\n\n<script>\nimport firebase from 'firebase'\nimport store from '../store'\n\nexport default {\n  name: 'Init',\n  data () {\n    return {\n      statusMsg: \"ユーザー情報認証中\"\n    }\n  },\n  components: {\n  },\n  async mounted () {\n    let t = this\n    let userData = await firebase.auth().signInAnonymously()\n    store.commit('auth/onAuthStateChanged', userData.user);\n    store.commit('auth/onUserStatusChanged', userData.user.uid ? true : false);\n\n    let userRef = firebase.firestore().collection(\"users\").doc(userData.user.uid)\n    let sellRef = firebase.firestore().collection(\"sells\").doc(userData.user.uid)\n    let buyRef = firebase.firestore().collection(\"buys\").doc(userData.user.uid)\n    let noticeRef = firebase.firestore().collection(\"notices\").doc(userData.user.uid)\n\n    await userRef.get().then(function(doc) {\n      if (doc.exists) {\n        t.statusMsg = \"ユーザー情報更新中\"\n        userRef.update({\n          updated_at: firebase.firestore.FieldValue.serverTimestamp()\n        })\n      } else {\n        t.statusMsg = \"初回ユーザー情報作成中\"\n        // 初期設定(ユーザー)\n        userRef.set({\n          updated_at: firebase.firestore.FieldValue.serverTimestamp(),\n          created_at: firebase.firestore.FieldValue.serverTimestamp(),\n          name: \"名も無き冒険者\"\n        })\n        // 初期設定(売る)\n        sellRef.set({\n          count: 10,\n        })\n        // 初期設定(売る)\n        buyRef.set({\n          count: 10,\n        })\n        // 初期設定(通知)\n        noticeRef.set({\n          items: []\n        })\n      }\n    });\n    t.statusMsg = \"ユーザー更新完了\"\n    setTimeout(function(){\n      t.$router.push('home')\n    },1500)\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.init{\n  z-index: 100;\n}\n.init_display{\n  height: 100vh;\n  width: 100vw;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-size: cover;\n  background-image: url(\"../assets/imgs/wall.png\");\n}\n.init_head{\n  position: absolute;\n  height: 50px;\n  width: 250px;\n  top: 15px;\n  left: 10px;\n  background-size: contain;\n  background-image: url(\"../assets/imgs/game_title.png\");\n  background-repeat: no-repeat;\n}\n.init_foot{\n  position: absolute;\n  bottom: 20px;\n  text-align: center;\n  right: 0;\n  left: 0;\n  font-weight: bold;\n  font-size: 18px;\n}\n.init_loader {\n  position: absolute;\n  bottom: 60px;\n  left: 0;\n  right: 0;\n  font-size: 12px;\n  margin: 100px auto;\n  width: 1em;\n  height: 1em;\n  border-radius: 50%;\n  text-indent: -9999em;\n  -webkit-animation: load5 1.1s infinite ease;\n  animation: load5 1.1s infinite ease;\n  -webkit-transform: translateZ(0);\n  -ms-transform: translateZ(0);\n  transform: translateZ(0);\n}\n@-webkit-keyframes load5 {\n  0%,\n  100% {\n    box-shadow: 0em -2.6em 0em 0em #ffffff, 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.5), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.7);\n  }\n  12.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.7), 1.8em -1.8em 0 0em #ffffff, 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.5);\n  }\n  25% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.5), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.7), 2.5em 0em 0 0em #ffffff, 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  37.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.5), 2.5em 0em 0 0em rgba(255, 255, 255, 0.7), 1.75em 1.75em 0 0em #ffffff, 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  50% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.5), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.7), 0em 2.5em 0 0em #ffffff, -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  62.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.5), 0em 2.5em 0 0em rgba(255, 255, 255, 0.7), -1.8em 1.8em 0 0em #ffffff, -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  75% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.5), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.7), -2.6em 0em 0 0em #ffffff, -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  87.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.5), -2.6em 0em 0 0em rgba(255, 255, 255, 0.7), -1.8em -1.8em 0 0em #ffffff;\n  }\n}\n@keyframes load5 {\n  0%,\n  100% {\n    box-shadow: 0em -2.6em 0em 0em #ffffff, 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.5), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.7);\n  }\n  12.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.7), 1.8em -1.8em 0 0em #ffffff, 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.5);\n  }\n  25% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.5), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.7), 2.5em 0em 0 0em #ffffff, 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  37.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.5), 2.5em 0em 0 0em rgba(255, 255, 255, 0.7), 1.75em 1.75em 0 0em #ffffff, 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  50% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.5), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.7), 0em 2.5em 0 0em #ffffff, -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  62.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.5), 0em 2.5em 0 0em rgba(255, 255, 255, 0.7), -1.8em 1.8em 0 0em #ffffff, -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  75% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.5), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.7), -2.6em 0em 0 0em #ffffff, -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  87.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.5), -2.6em 0em 0 0em rgba(255, 255, 255, 0.7), -1.8em -1.8em 0 0em #ffffff;\n  }\n}\n\n</style>"]}]}